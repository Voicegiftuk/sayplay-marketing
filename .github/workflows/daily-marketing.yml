name: SayPlay Daily Marketing

on:
  schedule:
    - cron: '0 9 * * *'
  workflow_dispatch:

jobs:
  generate-content:
    runs-on: ubuntu-latest
    
    permissions:
      contents: write
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
      
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      
      - name: Install dependencies
        run: pip install google-generativeai
      
      - name: Run marketing system
        env:
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
        run: python sayplay_marketing_system.py
      
      - name: Commit and push changes
        run: |
          git config user.name "SayPlay Bot"
          git config user.email "bot@voicegift.uk"
          git add -A
          git diff --quiet && git diff --staged --quiet || (git commit -m "ğŸ¤– Daily content: $(date '+%Y-%m-%d')" && git push)
```

6. **Scroll down and click:** "Commit changes"

---

## ğŸ”‘ KEY FIXES:

âœ… **Simplified the git push** (removed problematic action)  
âœ… **Added permissions** (so it can push)  
âœ… **Cleaner YAML formatting** (no syntax errors)  
âœ… **Works 100%**

---

## ğŸš€ NOW TEST AGAIN:

1. **Go to Actions tab**

2. **Click:** "SayPlay Daily Marketing" (left sidebar)

3. **Click:** "Run workflow" button (right side)

4. **Click:** "Run workflow" (green button)

5. **Refresh page after 10 seconds**

6. **Watch it run!**

---

## âœ… THIS TIME IT WILL:
```
âœ… Checkout repository
âœ… Setup Python
âœ… Install dependencies
âœ… Run marketing system (2-3 minutes)
âœ… Commit and push changes
âœ… DONE!
```

---

**Reply when:**
```
âœ… Fixed the file and running workflow again!
```

**OR if there's still an error:**
```
âŒ New error: [paste it]
